{"version":3,"sources":["Components/SearchForm/searchForm.module.css","Components/PhotoCard/photoCard.module.css","Components/App/app.module.css","Components/Gallery/gallery.module.css","Components/Modal/Modal.module.css","Components/SearchForm/SearchForm.jsx","Components/PhotoCard/PhotoCard.jsx","Components/Gallery/Gallery.jsx","Components/Modal/Modal.jsx","services/gallery-API.jsx","Components/ImageFinder/ImageFinder.jsx","Components/App/App.jsx","index.jsx"],"names":["module","exports","SearchForm","onSubmit","className","style","searchForm","type","autoComplete","placeholder","PhotoCard","item","onGetItemId","query","photoCard","src","webformatURL","alt","stats","statsItem","likes","views","comments","downloads","fullscreenButton","onClick","defaultProps","Gallery","gallery","onButtonLoad","length","map","galleryItem","key","id","button","Modal","getItemById","data-id","overlay","modal","largeImageURL","fetchGallery","pageNumber","axios","get","then","response","data","hits","catch","err","ImageFinder","state","pageHeight","isModalOpen","galleryItems","React","createRef","componentDidMount","document","addEventListener","handlerCloseModal","componentDidUpdate","prevProps","prevState","setPageHeight","getPageHeight","current","childNodes","clientHeight","setState","scrollToNewItems","window","scrollTo","top","behavior","find","String","handlerSubmit","e","preventDefault","inputQuery","target","children","value","handlerAddNewItems","nextPageNumber","prev","handlerGetItemId","closest","dataset","this","ref","Component","App","app","ReactDOM","render","getElementById"],"mappings":"sGACAA,EAAOC,QAAU,CAAC,WAAa,iC,kBCA/BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,MAAQ,yBAAyB,UAAY,6BAA6B,iBAAmB,sC,mBCAxJD,EAAOC,QAAU,CAAC,IAAM,mB,sDCAxBD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,0B,kBCA9DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,iKCa5CC,EAVI,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAH,OACjB,0BAAMC,UAAWC,IAAMC,WAAYH,SAAUA,GAC3C,2BAAOI,KAAK,OAAOC,aAAa,MAAMC,YAAY,uB,gBCFhDC,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,KAAMC,EAAT,EAASA,YAAaC,EAAtB,EAAsBA,MAAtB,OAChB,yBAAKT,UAAWC,IAAMS,WACpB,yBAAKC,IAAKJ,EAAKK,aAAcC,IAAKJ,IAElC,yBAAKT,UAAWC,IAAMa,OACpB,uBAAGd,UAAWC,IAAMc,WAClB,uBAAGf,UAAU,kBAAb,YACCO,EAAKS,OAER,uBAAGhB,UAAWC,IAAMc,WAClB,uBAAGf,UAAU,kBAAb,cACCO,EAAKU,OAER,uBAAGjB,UAAWC,IAAMc,WAClB,uBAAGf,UAAU,kBAAb,WACCO,EAAKW,UAER,uBAAGlB,UAAWC,IAAMc,WAClB,uBAAGf,UAAU,kBAAb,kBACCO,EAAKY,YAKV,4BACEhB,KAAK,SACLH,UAAWC,IAAMmB,iBACjBC,QAASb,GAET,uBAAGR,UAAU,kBAAb,mBAiBNM,EAAUgB,aAAe,CACvBb,MAAO,iBAGMH,Q,gBC3BAiB,EAtBC,SAAC,GAAD,IAAGC,EAAH,EAAGA,QAASC,EAAZ,EAAYA,aAAcjB,EAA1B,EAA0BA,YAA1B,OACd,6BACE,wBAAIR,UAAWC,IAAMuB,SAClBA,EAAQE,OAAS,GAChBF,EAAQG,KAAI,SAAAC,GAAW,OACrB,wBAAIC,IAAKD,EAAYE,GAAIA,GAAIF,EAAYE,IACvC,kBAAC,EAAD,CAAWvB,KAAMqB,EAAapB,YAAaA,SAInD,4BAAQL,KAAK,SAASH,UAAWC,IAAM8B,OAAQV,QAASI,GAAxD,e,gBCXEO,EAAQ,SAAC,GAAgC,IAA9BF,EAA6B,EAA7BA,GAAIG,EAAyB,EAAzBA,YAAaxB,EAAY,EAAZA,MAChC,OACE,yBAAKyB,UAAQ,QAAQlC,UAAWC,IAAMkC,SACpC,yBAAKnC,UAAWC,IAAMmC,OACpB,yBAAKzB,IAAKsB,EAAYH,GAAIO,cAAexB,IAAKJ,OAYtDuB,EAAMV,aAAe,CACnBb,MAAO,iBAGMuB,Q,iBCXAM,EATM,SAAC7B,EAAO8B,GAC3B,OAAOC,IACJC,IADI,6EAEmEhC,EAFnE,iBAEiF8B,EAFjF,4BAHG,uCAOPG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,KAAKC,QAC/BC,OAAM,SAAAC,GAAG,OAAIA,MCwHHC,E,2MA1HbC,MAAQ,CACNzB,QAAS,GACTf,MAAO,GACP8B,WAAY,EACZW,WAAY,EACZpB,GAAI,GACJqB,aAAa,G,EAGfC,aAAeC,IAAMC,Y,EAErBC,kBAAoB,WAClBC,SAASC,iBAAiB,UAAW,EAAKC,mBAC1CF,SAASC,iBAAiB,QAAS,EAAKC,oB,EAG1CC,mBAAqB,SAACC,EAAWC,GAAe,IAAD,EACb,EAAKZ,MAA7BzB,EADqC,EACrCA,QAASe,EAD4B,EAC5BA,WACbf,IAAYqC,EAAUrC,SAA0B,IAAfe,GACnC,EAAKuB,cAAc,EAAKC,kB,EAI5BA,cAAgB,WAAO,IACbC,EAAY,EAAKZ,aAAjBY,QACR,OACEA,EAAQC,WAAW,GAAGC,aACtBF,EAAQC,WAAW,GAAGC,aACtB,I,EAIJJ,cAAgB,SAAAZ,GAAU,OAAI,EAAKiB,SAAS,CAAEjB,gB,EAE9CkB,iBAAmB,WAAO,IAChBlB,EAAe,EAAKD,MAApBC,WACRmB,OAAOC,SAAS,CACdC,IAAKrB,EACLsB,SAAU,WAEZ,EAAKL,SAAS,CACZjB,WAAY,EAAKa,mB,EAIrB9B,YAAc,SAAAH,GAGZ,OAFoB,EAAKmB,MAAjBzB,QAEOiD,MAAK,SAAAlE,GAAI,OAAImE,OAAOnE,EAAKuB,MAAQ4C,OAAO5C,O,EAGzD6C,cAAgB,SAAAC,GACdA,EAAEC,iBACF,IACMC,EAAaF,EAAEG,OAAOC,SAAS,GAAGC,MAExC,OAAO3C,EAAawC,EAHD,GAGyBpC,MAAK,SAAAlB,GAC/C,EAAK2C,SAAS,CACZ3C,UACAf,MAAOqE,EACPvC,WAAY,EACZW,WAAY,EAAKa,sB,EAKvBmB,mBAAqB,WAAO,IAAD,EACK,EAAKjC,MAA3BxC,EADiB,EACjBA,MACF0E,EAFmB,EACV5C,WACqB,EAEpC,OAAOD,EAAa7B,EAAO0E,GACxBzC,MAAK,SAAAlB,GAAO,OACX,EAAK2C,UAAS,SAAAiB,GAAI,MAAK,CACrB5D,QAAQ,GAAD,mBAAM4D,EAAK5D,SAAX,YAAuBA,IAC9Be,WAAY4C,SAGfzC,MAAK,kBAAM,EAAK0B,sBAChBtB,OAAM,SAAAC,GAAG,OAAIA,M,EAGlBsC,iBAAmB,YAAiB,IAAdN,EAAa,EAAbA,OACpB,OAAO,EAAKZ,SAAS,CACnBrC,GAAIiD,EAAOO,QAAQ,MAAMxD,GACzBqB,aAAa,K,EAIjBO,kBAAoB,SAAAkB,GAAM,IAAD,EACK,EAAK3B,MAAzBE,EADe,EACfA,YAAarB,EADE,EACFA,GAErB,MAA+B,UAAxB8C,EAAEG,OAAOQ,QAAQzD,IACZ,QAAV8C,EAAE/C,KACQ,WAAV+C,EAAE/C,IACA,EAAKsC,SAAS,CACZhB,aAAa,EACbrB,GAAI,KAEN,EAAKqC,SAAS,CACZhB,cACArB,Q,wEAIE,IAAD,EAC8B0D,KAAKvC,MAAlCzB,EADD,EACCA,QAASM,EADV,EACUA,GAAIqB,EADd,EACcA,YAErB,OACE,yBAAKsC,IAAKD,KAAKpC,cACb,kBAAC,EAAD,CAAYrD,SAAUyF,KAAKb,gBAC3B,kBAAC,EAAD,CACEnD,QAASA,EACTC,aAAc+D,KAAKN,mBACnB1E,YAAagF,KAAKH,mBAGnBlC,GAAe,kBAAC,EAAD,CAAOrB,GAAIA,EAAIG,YAAauD,KAAKvD,mB,GAtH/BoB,IAAMqC,W,iBCIjBC,EANH,kBACV,yBAAK3F,UAAWC,IAAM2F,KACpB,kBAAC,EAAD,Q,MCDJC,IAASC,OAAO,kBAAC,EAAD,MAAStC,SAASuC,eAAe,W","file":"static/js/main.5b822d24.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"searchForm_searchForm__1EkKP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photoCard\":\"photoCard_photoCard__1Vkjf\",\"stats\":\"photoCard_stats__12A1I\",\"statsItem\":\"photoCard_statsItem__3ypdq\",\"fullscreenButton\":\"photoCard_fullscreenButton__2iwBw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__14b3E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"gallery_gallery__3vNwg\",\"button\":\"gallery_button__1Vo3i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1TrWg\",\"modal\":\"Modal_modal__1TTWj\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './searchForm.module.css';\n\nconst SearchForm = ({ onSubmit }) => (\n  <form className={style.searchForm} onSubmit={onSubmit}>\n    <input type=\"text\" autoComplete=\"off\" placeholder=\"Search images...\" />\n  </form>\n);\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './photoCard.module.css';\n\nconst PhotoCard = ({ item, onGetItemId, query }) => (\n  <div className={style.photoCard}>\n    <img src={item.webformatURL} alt={query} />\n\n    <div className={style.stats}>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">thumb_up</i>\n        {item.likes}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">visibility</i>\n        {item.views}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">comment</i>\n        {item.comments}\n      </p>\n      <p className={style.statsItem}>\n        <i className=\"material-icons\">cloud_download</i>\n        {item.downloads}\n      </p>\n    </div>\n\n    {/* <!-- Кнопка для открытия модалки с большим изображением, появляется при наведении --> */}\n    <button\n      type=\"button\"\n      className={style.fullscreenButton}\n      onClick={onGetItemId}\n    >\n      <i className=\"material-icons\">zoom_out_map</i>\n    </button>\n  </div>\n);\n\nPhotoCard.propTypes = {\n  item: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    likes: PropTypes.number.isRequired,\n    views: PropTypes.number.isRequired,\n    comments: PropTypes.number.isRequired,\n    downloads: PropTypes.number.isRequired,\n  }).isRequired,\n  onGetItemId: PropTypes.func.isRequired,\n  query: PropTypes.string,\n};\n\nPhotoCard.defaultProps = {\n  query: 'queried image',\n};\n\nexport default PhotoCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport style from './gallery.module.css';\n\nconst Gallery = ({ gallery, onButtonLoad, onGetItemId }) => (\n  <div>\n    <ul className={style.gallery}>\n      {gallery.length > 0 &&\n        gallery.map(galleryItem => (\n          <li key={galleryItem.id} id={galleryItem.id}>\n            <PhotoCard item={galleryItem} onGetItemId={onGetItemId} />\n          </li>\n        ))}\n    </ul>\n    <button type=\"button\" className={style.button} onClick={onButtonLoad}>\n      Load more\n    </button>\n  </div>\n);\n\nGallery.propTypes = {\n  gallery: PropTypes.arrayOf(PropTypes.object).isRequired,\n  onButtonLoad: PropTypes.func.isRequired,\n  onGetItemId: PropTypes.func.isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport style from './Modal.module.css';\n\nconst Modal = ({ id, getItemById, query }) => {\n  return (\n    <div data-id=\"modal\" className={style.overlay}>\n      <div className={style.modal}>\n        <img src={getItemById(id).largeImageURL} alt={query} />\n      </div>\n    </div>\n  );\n};\n\nModal.propTypes = {\n  id: PropTypes.string.isRequired,\n  getItemById: PropTypes.func.isRequired,\n  query: PropTypes.string,\n};\n\nModal.defaultProps = {\n  query: 'queried image',\n};\n\nexport default Modal;\n","import axios from 'axios';\n\nconst key = '13965574-3ae6669f35304ffc6cddc1b72';\n\nconst fetchGallery = (query, pageNumber) => {\n  return axios\n    .get(\n      `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${query}&page=${pageNumber}&per_page=12&key=${key}`,\n    )\n    .then(response => response.data.hits)\n    .catch(err => err);\n};\n\nexport default fetchGallery;\n","import React from 'react';\nimport SearchForm from '../SearchForm/SearchForm';\nimport Gallery from '../Gallery/Gallery';\nimport Modal from '../Modal/Modal';\nimport fetchGallery from '../../services/gallery-API';\n\nclass ImageFinder extends React.Component {\n  // eslint-disable-next-line react/state-in-constructor\n  state = {\n    gallery: [],\n    query: '',\n    pageNumber: 1,\n    pageHeight: 0,\n    id: '',\n    isModalOpen: false,\n  };\n\n  galleryItems = React.createRef();\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.handlerCloseModal);\n    document.addEventListener('click', this.handlerCloseModal);\n  };\n\n  componentDidUpdate = (prevProps, prevState) => {\n    const { gallery, pageNumber } = this.state;\n    if (gallery !== prevState.gallery && pageNumber === 1) {\n      this.setPageHeight(this.getPageHeight());\n    }\n  };\n\n  getPageHeight = () => {\n    const { current } = this.galleryItems;\n    return (\n      current.childNodes[0].clientHeight +\n      current.childNodes[1].clientHeight -\n      20\n    );\n  };\n\n  setPageHeight = pageHeight => this.setState({ pageHeight });\n\n  scrollToNewItems = () => {\n    const { pageHeight } = this.state;\n    window.scrollTo({\n      top: pageHeight,\n      behavior: 'smooth',\n    });\n    this.setState({\n      pageHeight: this.getPageHeight(),\n    });\n  };\n\n  getItemById = id => {\n    const { gallery } = this.state;\n\n    return gallery.find(item => String(item.id) === String(id));\n  };\n\n  handlerSubmit = e => {\n    e.preventDefault();\n    const pageNumber = 1;\n    const inputQuery = e.target.children[0].value;\n\n    return fetchGallery(inputQuery, pageNumber).then(gallery => {\n      this.setState({\n        gallery,\n        query: inputQuery,\n        pageNumber: 1,\n        pageHeight: this.getPageHeight(),\n      });\n    });\n  };\n\n  handlerAddNewItems = () => {\n    const { query, pageNumber } = this.state;\n    const nextPageNumber = pageNumber + 1;\n\n    return fetchGallery(query, nextPageNumber)\n      .then(gallery =>\n        this.setState(prev => ({\n          gallery: [...prev.gallery, ...gallery],\n          pageNumber: nextPageNumber,\n        })),\n      )\n      .then(() => this.scrollToNewItems())\n      .catch(err => err);\n  };\n\n  handlerGetItemId = ({ target }) => {\n    return this.setState({\n      id: target.closest('li').id,\n      isModalOpen: true,\n    });\n  };\n\n  handlerCloseModal = e => {\n    const { isModalOpen, id } = this.state;\n\n    return e.target.dataset.id === 'modal' ||\n      e.key === 'esc' ||\n      e.key === 'Escape'\n      ? this.setState({\n          isModalOpen: false,\n          id: '',\n        })\n      : this.setState({\n          isModalOpen,\n          id,\n        });\n  };\n\n  render() {\n    const { gallery, id, isModalOpen } = this.state;\n\n    return (\n      <div ref={this.galleryItems}>\n        <SearchForm onSubmit={this.handlerSubmit} />\n        <Gallery\n          gallery={gallery}\n          onButtonLoad={this.handlerAddNewItems}\n          onGetItemId={this.handlerGetItemId}\n        />\n\n        {isModalOpen && <Modal id={id} getItemById={this.getItemById} />}\n      </div>\n    );\n  }\n}\n\nexport default ImageFinder;\n","import React from 'react';\nimport ImageFinder from '../ImageFinder/ImageFinder';\nimport style from './app.module.css';\n\nconst App = () => (\n  <div className={style.app}>\n    <ImageFinder />\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './Components/App/App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}